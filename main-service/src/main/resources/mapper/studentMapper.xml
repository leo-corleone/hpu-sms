<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.tams.mapper.StudentMapper">


    <resultMap id="studentByIdMap" type="com.tams.model.StudentModel">
        <id property="sId" column="s_id" jdbcType="BIGINT"/>
        <result property="name" column="s_name" jdbcType="VARCHAR" />
        <result property="age" column="s_age" jdbcType="INTEGER" />
        <result property="gender" column="s_gender" jdbcType="VARCHAR" />
        <result property="birthday" column="s_birthday" jdbcType="DATE" />
        <result property="tel" column="s_tel" jdbcType="VARCHAR" />
        <result property="status" column="s_status" />
        <result property="timeOfEnrollment" column="s_time_of_enrollment" jdbcType="DATE" />
        <result property="grade" column="c_grade" />
        <result property="clazz" column="c_class_name" />
        <result property="teacher" column="t_name" />
        <result property="department" column="d_depart_name" />
        <result property="iId" column="i_id" />
    </resultMap>

    <select id="getStudentById" parameterType="long" resultMap="studentByIdMap">
        select
            s.s_id s_id,
            s.`name` s_name,
            s.age s_age,
            s.gender s_gender,
            s.birthday s_birthday,
            s.tel s_tel,
            s.`status` s_status,
            s.time_of_enrollment s_time_of_enrollment,
            c.grade c_grade,
            c.class_name c_class_name,
            t.`name` t_name,
            d.depart_name d_depart_name,
            i.i_id
        from
            student s
                left join class c on c.c_id = s.c_id
                left join teacher t on c.t_id = t.t_id
                left join department d on c.d_id = d.d_id
                left join image i on s.i_id = i.i_id
        where
            s.s_id = ${value}
    </select>

</mapper>
